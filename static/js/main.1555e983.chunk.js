(this["webpackJsonpreact-newsfeed-app"]=this["webpackJsonpreact-newsfeed-app"]||[]).push([[0],{62:function(e,t,a){e.exports=a(79)},68:function(e,t,a){},69:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),l=a.n(r),i=(a(67),a(68),a(69),a(34)),o=a(22),s=a(41),u=a.n(s),m=a(44),d=a(31),f=a(117),p=a(118),h=a(107),E=a(111),v=a(120),w=a(119),b=a(123),g=a(115),y=function(e){var t=e.countryCode,a=e.searchNewsHandler,n=e.getTopNewsHandler,r=e.countryHandler;return c.a.createElement(h.a,{container:!0,spacing:8,alignItems:"flex-end",justify:"center"},c.a.createElement(h.a,{item:!0,className:"search-icon-item"},c.a.createElement(E.a,{onClick:a}," search ")),c.a.createElement(h.a,{item:!0},c.a.createElement(v.a,{id:"search",label:"Search news",type:"search",onKeyPress:a,margin:"normal"})),c.a.createElement(h.a,{item:!0,className:"top-news-select-item"},c.a.createElement(w.a,{labelId:"country-select-label",id:"country-select",className:"top-news-select",value:t,onChange:r},c.a.createElement(b.a,{value:"us"},"United States"),c.a.createElement(b.a,{value:"mx"},"Mexico"),c.a.createElement(b.a,{value:"fr"},"France")),c.a.createElement(g.a,{size:"small",onClick:n,variant:"contained",color:"secondary"},"Get top News")))},N=a(116),j=a(122);a(74);function x(e){var t=e.title,a=e.hideArticleHandler,n=e.match,r=e.id,l="".concat("/"===n.url?"newsfeed":n.url,"/").concat(r);return c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(N.a,{className:"card"},c.a.createElement("div",{className:"news-info"},c.a.createElement(i.b,{to:l},t),c.a.createElement(g.a,{size:"small",onClick:function(){return a(r)},variant:"contained",color:"primary",className:"hide-btn"},c.a.createElement(j.a,null)))))}x.defaultProps={title:"",id:0,hideArticleHandler:function(){}};var O=x;a(77);function H(e){e.title,e.index,e.hideArticleHandler;var t=e.data,a=e.match,r=Object(n.useState)({title:""}),l=Object(d.a)(r,2),i=l[0],o=l[1];Object(n.useEffect)((function(){o(t.find((function(e){return e.id.toString()===a.params.newsId})))}),[t,a.params.newsId]);return c.a.createElement(h.a,{item:!0,xs:12},i&&c.a.createElement("div",null,c.a.createElement("h3",null,i.title),c.a.createElement("p",null,"author: ",i.author||"anonymous",", date:"," ",function(e){if(e){var t=e.split(/\D+/);return new Date(Date.UTC(t[0],--t[1],t[2],t[3],t[4],t[5],t[6])).toString()}}(i.publishedAt)),c.a.createElement("p",null,i.description),c.a.createElement("img",{className:"article-img",src:i.urlToImage,alt:"article"})))}H.defaultProps={title:"",index:0,hideArticleHandler:function(){}};var k=H,C=a(52),S=a(53),I=function(){function e(){Object(C.a)(this,e)}return Object(S.a)(e,null,[{key:"getNews",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"us",c="803fdd9b8517490d89d8c85ade466b8d";return e=a?"https://newsapi.org/v2/top-headlines?country=".concat(n,"&apiKey=").concat(c):"https://newsapi.org/v2/everything?q=".concat(t,"&from=2020-01-30&sortBy=popularity&apiKey=").concat(c),fetch(e).then((function(e){return e.json()})).then((function(e){return"ok"===e.status?(e.articles.forEach((function(e,t){e.id=t})),e.articles):{}})).catch((function(e){return[e]}))}}]),e}();a(78);var A=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(d.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)([]),E=Object(d.a)(s,2),v=E[0],w=E[1],b=Object(n.useState)("us"),g=Object(d.a)(b,2),N=g[0],j=g[1],x=function(e){var t=v.filter((function(t){return t.id!==e}));w(t)};return Object(n.useEffect)((function(){l&&function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(I.getNews(l));case 2:e=t.sent,w(Object(m.a)(e));case 4:case"end":return t.stop()}}))}()}),[l]),c.a.createElement("div",null,c.a.createElement(f.a,{maxWidth:"md"},c.a.createElement(p.a,{className:"title",variant:"h3"},"News"),c.a.createElement(y,{searchNewsHandler:function(e){if("click"===e.type||13===e.charCode){var t=document.querySelector("#search"),a=t.value.toLowerCase();t.value="",i(a)}},getTopNewsHandler:function(){return new Promise((function(){I.getNews("",!0,N).then((function(e){w(Object(m.a)(e))}))}))},countryHandler:function(e){j(e.target.value)},countryCode:N}),c.a.createElement(h.a,{container:!0,spacing:1},c.a.createElement(h.a,{item:!0,xs:12,sm:6},v.map((function(e,a){return c.a.createElement(O,{key:e.id,title:e.title,index:a,hideArticleHandler:x,id:e.id,match:t})})),0===v.length&&c.a.createElement("p",null,"No news")),c.a.createElement(h.a,{item:!0,xs:12,sm:6},c.a.createElement(o.a,{path:"".concat(t.url,"/:newsId"),render:function(e){return c.a.createElement(k,Object.assign({data:v},e))}}),c.a.createElement(o.a,{exact:!0,path:t.url,render:function(){return c.a.createElement("div",null,"News content")}})))))};var P=function(){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:A}),c.a.createElement(o.a,{path:"/newsfeed",component:A}))))},T=document.getElementById("root");l.a.render(c.a.createElement(P,null),T)}},[[62,1,2]]]);
//# sourceMappingURL=main.1555e983.chunk.js.map