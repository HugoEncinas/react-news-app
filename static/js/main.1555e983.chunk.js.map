{"version":3,"sources":["components/Search/index.js","components/Search/Search.js","components/Article/Article.js","components/Article/index.js","components/Fullarticle/Fullarticle.js","components/Fullarticle/index.js","services/newsService.js","components/NewsFeed/NewsFeed.js","components/NewsFeed/index.js","App.js","index.js"],"names":["Search","countryCode","searchNewsHandler","getTopNewsHandler","countryHandler","Grid","container","spacing","alignItems","justify","item","className","Icon","onClick","TextField","id","label","type","onKeyPress","margin","Select","labelId","value","onChange","MenuItem","Button","size","variant","color","Article","title","hideArticleHandler","match","articleLink","url","xs","Card","to","VisibilityOffOutlined","defaultProps","Fullarticle","index","data","useState","article","setArticle","useEffect","find","toString","params","newsId","author","isoString","b","split","Date","UTC","parseISOString","publishedAt","description","src","urlToImage","alt","NewsService","searchTerm","topNews","apiKey","fetch","then","res","json","status","articles","forEach","element","catch","err","NewsFeed","searchValue","setSearchValue","news","setNews","setCountryCode","filteredNews","filter","a","async","getNews","newsFromSearch","searchNews","Container","maxWidth","Typography","event","charCode","search","document","querySelector","searchWord","toLowerCase","Promise","target","sm","map","key","length","path","render","props","exact","App","component","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.1555e983.chunk.js","sourcesContent":["import Search from './Search';\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Icon,\r\n  Button,\r\n  Select,\r\n  MenuItem,\r\n} from '@material-ui/core';\r\n\r\nconst Search = ({\r\n  countryCode,\r\n  searchNewsHandler,\r\n  getTopNewsHandler,\r\n  countryHandler,\r\n}) => {\r\n  return (\r\n    <Grid container spacing={8} alignItems=\"flex-end\" justify=\"center\">\r\n      <Grid item className=\"search-icon-item\">\r\n        <Icon onClick={searchNewsHandler}> search </Icon>\r\n      </Grid>\r\n      <Grid item>\r\n        <TextField\r\n          id=\"search\"\r\n          label=\"Search news\"\r\n          type=\"search\"\r\n          onKeyPress={searchNewsHandler}\r\n          margin=\"normal\"\r\n        />\r\n      </Grid>\r\n      <Grid item className=\"top-news-select-item\">\r\n        <Select\r\n          labelId=\"country-select-label\"\r\n          id=\"country-select\"\r\n          className=\"top-news-select\"\r\n          value={countryCode}\r\n          onChange={countryHandler}\r\n        >\r\n          <MenuItem value=\"us\">United States</MenuItem>\r\n          <MenuItem value=\"mx\">Mexico</MenuItem>\r\n          <MenuItem value=\"fr\">France</MenuItem>\r\n        </Select>\r\n        <Button\r\n          size=\"small\"\r\n          onClick={getTopNewsHandler}\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n        >\r\n          Get top News\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nSearch.propTypes = {\r\n  countryCode: PropTypes.string.isRequired,\r\n  searchNewsHandler: PropTypes.func.isRequired,\r\n  getTopNewsHandler: PropTypes.func.isRequired,\r\n  countryHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Search;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Grid, Button } from '@material-ui/core';\r\nimport { VisibilityOffOutlined } from '@material-ui/icons';\r\nimport './Article.sass';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction Article({ title, hideArticleHandler, match, id }) {\r\n  const articleLink = `${match.url === '/' ? 'newsfeed' : match.url}/${id}`;\r\n  return (\r\n    <Grid item xs={12}>\r\n      <Card className=\"card\">\r\n        <div className=\"news-info\">\r\n          <Link to={articleLink}>{title}</Link>\r\n          <Button\r\n            size=\"small\"\r\n            onClick={() => hideArticleHandler(id)}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className=\"hide-btn\"\r\n          >\r\n            <VisibilityOffOutlined />\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nArticle.defaultProps = {\r\n  title: '',\r\n  id: 0,\r\n  hideArticleHandler: () => {},\r\n};\r\n\r\nArticle.propTypes = {\r\n  title: PropTypes.string,\r\n  id: PropTypes.number,\r\n  hideArticleHandler: PropTypes.func,\r\n};\r\n\r\nexport default Article;\r\n","import Article from './Article';\r\n\r\nexport default Article;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport './Fullarticle.sass';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction Fullarticle({ title, index, hideArticleHandler, data, match }) {\r\n  const [article, setArticle] = useState({ title: '' });\r\n\r\n  useEffect(() => {\r\n    setArticle(data.find(item => item.id.toString() === match.params.newsId));\r\n  }, [data, match.params.newsId]);\r\n\r\n  const parseISOString = isoString => {\r\n    if (isoString) {\r\n      const b = isoString.split(/\\D+/);\r\n      return new Date(\r\n        // eslint-disable-next-line no-plusplus\r\n        Date.UTC(b[0], --b[1], b[2], b[3], b[4], b[5], b[6])\r\n      ).toString();\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  return (\r\n    <Grid item xs={12}>\r\n      {article && (\r\n        <div>\r\n          <h3>{article.title}</h3>\r\n          <p>\r\n            author: {article.author || 'anonymous'}, date:{' '}\r\n            {parseISOString(article.publishedAt)}\r\n          </p>\r\n          <p>{article.description}</p>\r\n          <img className=\"article-img\" src={article.urlToImage} alt=\"article\" />\r\n        </div>\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nFullarticle.defaultProps = {\r\n  title: '',\r\n  index: 0,\r\n  hideArticleHandler: () => {},\r\n};\r\n\r\nFullarticle.propTypes = {\r\n  title: PropTypes.string,\r\n  index: PropTypes.number,\r\n  hideArticleHandler: PropTypes.func,\r\n};\r\n\r\nexport default Fullarticle;\r\n","import Fullarticle from './Fullarticle';\r\n\r\nexport default Fullarticle;\r\n","export default class NewsService {\r\n  static getNews(searchTerm = '', topNews = false, countryCode = 'us') {\r\n    const apiKey = '803fdd9b8517490d89d8c85ade466b8d';\r\n    let url;\r\n    if (topNews) {\r\n      url = `https://newsapi.org/v2/top-headlines?country=${countryCode}&apiKey=${apiKey}`;\r\n    } else {\r\n      url = `https://newsapi.org/v2/everything?q=${searchTerm}&from=2020-01-30&sortBy=popularity&apiKey=${apiKey}`;\r\n    }\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.status === 'ok') {\r\n          data.articles.forEach((element, index) => {\r\n            // eslint-disable-next-line no-param-reassign\r\n            element.id = index;\r\n          });\r\n          return data.articles;\r\n        }\r\n        return {};\r\n      })\r\n      .catch(err => {\r\n        return [err];\r\n      });\r\n  }\r\n}\r\n","/* eslint-disable react/prop-types */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { Container, Typography, Grid } from '@material-ui/core';\r\nimport Search from '../Search';\r\nimport Article from '../Article';\r\nimport Fullarticle from '../Fullarticle';\r\nimport NewsService from '../../services/newsService';\r\nimport './NewsFeed.sass';\r\n\r\nfunction NewsFeed({ match }) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [news, setNews] = useState([]);\r\n  const [countryCode, setCountryCode] = useState('us');\r\n\r\n  const searchNewsHandler = event => {\r\n    if (event.type === 'click' || event.charCode === 13) {\r\n      const search = document.querySelector('#search');\r\n      const searchWord = search.value.toLowerCase();\r\n      search.value = '';\r\n      setSearchValue(searchWord);\r\n    }\r\n  };\r\n\r\n  const getTopNewsHandler = () => {\r\n    return new Promise(() => {\r\n      NewsService.getNews('', true, countryCode).then(newsFromSearch => {\r\n        setNews([...newsFromSearch]);\r\n      });\r\n    });\r\n  };\r\n\r\n  const hideArticleHandler = id => {\r\n    const filteredNews = news.filter(element => {\r\n      return element.id !== id;\r\n    });\r\n    setNews(filteredNews);\r\n  };\r\n\r\n  const countryHandler = event => {\r\n    setCountryCode(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function searchNews() {\r\n      const newsFromSearch = await NewsService.getNews(searchValue);\r\n      setNews([...newsFromSearch]);\r\n    }\r\n    if (searchValue) {\r\n      searchNews();\r\n    }\r\n  }, [searchValue]);\r\n\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"md\">\r\n        <Typography className=\"title\" variant=\"h3\">\r\n          News\r\n        </Typography>\r\n        <Search\r\n          searchNewsHandler={searchNewsHandler}\r\n          getTopNewsHandler={getTopNewsHandler}\r\n          countryHandler={countryHandler}\r\n          countryCode={countryCode}\r\n        />\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={12} sm={6}>\r\n            {news.map((article, index) => {\r\n              return (\r\n                <Article\r\n                  key={article.id}\r\n                  title={article.title}\r\n                  index={index}\r\n                  hideArticleHandler={hideArticleHandler}\r\n                  id={article.id}\r\n                  match={match}\r\n                />\r\n              );\r\n            })}\r\n            {news.length === 0 && <p>No news</p>}\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Route\r\n              path={`${match.url}/:newsId`}\r\n              // eslint-disable-next-line react/jsx-props-no-spreading\r\n              render={props => <Fullarticle data={news} {...props} />}\r\n            />\r\n            <Route\r\n              exact\r\n              path={match.url}\r\n              render={() => <div>News content</div>}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsFeed;\r\n","import NewsFeed from './NewsFeed';\r\n\r\nexport default NewsFeed;\r\n","import React from 'react';\r\nimport './App.sass';\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport NewsFeed from './components/NewsFeed';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={NewsFeed} />\r\n          <Route path=\"/newsfeed\" component={NewsFeed} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'normalize.css'; // Normalize CSS - always goes before other CSS\r\nimport './styles/main.sass';\r\n\r\nimport App from './App';\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}